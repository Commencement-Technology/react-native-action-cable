var Connection,Consumer,Subscriptions;Connection=require("./connection"),Subscriptions=require("./subscriptions"),Consumer=class{constructor(n,o,t){this.url=n,this.log=o,this.WebSocket=t,this.subscriptions=new Subscriptions(this),this.connection=new Connection(this,this.log,this.WebSocket)}send(n){return this.connection.send(n)}connect(){return this.connection.open()}disconnect(){return this.connection.close({allowReconnect:!1})}ensureActiveConnection(){if(!this.connection.isActive())return this.connection.open()}},module.exports=Consumer;